<!-- Content Header (Page header) -->
<div class="content-header">
    <!--      开始分12栅栏-->
    <!--            col-xs-【手机】	.col-sm-【平板】	.col-md-【小尺寸电脑≥992px】	.col-lg-【大尺寸电脑≥1200px】  -->
    <!--            如果不想做成响应式，但支持响应式【手机上字体不会小】，所有占格都写成手机--col-xs-n  -->
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-xs-6">
                <h1 class="m-0">活动管理</h1>
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->

<!-- Main content -->
<section class="content">
    <div class="container-fluid">
        <div class="row" style="margin-bottom: 10px">
            <div class="col-12">
                <button id="btnAdd" type="button" class="btn  btn-primary">添加</button>
                <button id="btnDel" type="button" class="btn  btn-primary">删除</button>
                <button id="btnEdit" type="button" class="btn  btn-primary">修改</button>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <!-- /.card-header -->
                    <div class="card-body table-responsive p-0">
                        <table id="infoTable" class="table table-hover table-bordered text-nowrap" >
                            <thead>
                            <tr>
                                <th><input type="checkbox"></th>
                                <th>活动名称</th>
                                <th>活动所有者</th>
                                <th>活动创建者</th>
                                <th>活动修改者</th>
                                <th>开始时间</th>
                                <th>结束时间</th>
                                <th>成本</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th><input type="checkbox"></th>
                                <td>183</td>
                                <td>John Doe</td>
                                <td>AAAA</td>
                                <td>AAAA</td>
                                <td>AAAA</td>
                                <td>AAAA</td>
                                <td>AAAA</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- /.card-body -->
                </div>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<!-- /.content -->

<!--字典编辑模态框【参考bootstrap】-->
<!--data-use为自定义属性，data-xxx 其中xxx可以自己定义任意单词-->
<!--data-use该属性为用途，如果data-use='add'表示添加框，data-use='edit'表示修改框-->
<!--data-xx自定义HTML属性，属于HTML5的新技能-->
<div class="modal fade" id="dictionaryValueModal" data-use="edit" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">字典数值添加</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="card-body">
                        <div class="form-group row">
                            <input id="id" type="hidden" class="form-control" >
                            <label class="col-sm-2 col-form-label">数值名称</label>
                            <div class="col-sm-10">
                                <input id="value" type="text" class="form-control" placeholder="请输入字典数值名称">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label">描述</label>
                            <div class="col-sm-10">
                                <input id="text" type="text" class="form-control" placeholder="请输入字典数值的描述">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label">排序</label>
                            <div class="col-sm-10">
                                <input id="orderNo" type="text" class="form-control" placeholder="请输入字典数值的排序">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label">所属类型名称</label>
                            <select id="typeid" class="form-select" >
                                <option selected>Open this select menu</option>
                                <option value="1">One</option>
                                <option value="2">Two</option>
                                <option value="3">Three</option>
                            </select>
                        </div>

                    </div>
                    <!-- /.card-body -->
                </form>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button id="btnSave" type="button" class="btn btn-primary">保存</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<script>
    function getAll() {
        $.ajax({
            url: "http://localhost:8080/marketingActivities/getAll.action",
            type: "get",
            dataType: "json",
            beforeSend: function (XHR) {
                console.log("准备开始请求value_getAll...............")
            },
            success: function (data, textStatus, jqXHR) {
                //选择表格里面的tbody对象，然后清空
                $("#infoTable tbody").empty();
                //把后端返回的JSON格式数据变成jquery对象【也就是jquery的集合对象】，则使用jquery提供的each()方法遍历
                $(data.data).each(function (i, item) {
                    //遍历的时候在给tbody对象添加每一tr
                    //这里主要使用了jquery的append()方法【该方法提供了字符串累加模式轻松添加HTML结构】
                    $("#infoTable tbody").append('                            <tr>\n' +
                        '                                <td><input type="checkbox" value="' + item.id + '" ></td>\n' +
                        '                                <td>' + item.name + '</td>\n' +
                        '                                <td>' + item.ownerUser.name + '</td>\n' +
                        '                                <td>' + item.createByUser.name + '</td>\n' +
                        '                                <td>' + item.editByUser.name + '</td>\n' +
                        '                                <td>' + item.startDate + '</td>\n' +
                        '                                <td>' + item.endDate + '</td>\n' +
                        '                                <td>' + item.cost + '</td>\n' +
                        '                            </tr>');
                });
                console.log("请求成功value_getAll...............");
            },
            error: function (XHR, textStatus, errorThrown) {
                console.log("请求失败value_getAll...............");
            },
            complete: function (XHR, textStatus) {
                console.log("请求完毕value_getAll...............");
            }
        });
    }




    $(function () {


        getAll();

        $("thead :checkbox").click(function () {
            $("tbody :checkbox").prop("checked", $("thead :checkbox").prop("checked"));
        });


    });
</script>